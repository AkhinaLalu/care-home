{% extends 'carecenter/sidebar.html'%}
{% load static %}
{% block content %}

<!-- Meta Data -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- UI Libraries CSS -->
<link rel="stylesheet" href="{% static 'admin_template/assets/libs/choices.js/public/assets/styles/choices.min.css' %}">
<link rel="stylesheet" href="{% static 'admin_template/assets/libs/intl-tel-input/build/css/intlTelInput.min.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">

<!-- Custom Styles -->
<style>
    .nav-link { color: black !important; }
    .focusedRow { background-color: #cce5ff !important; color: #e21515 !important; }
    .form-group { margin-bottom: 10px !important; }
    .ui-autocomplete { max-height: 200px; overflow: scroll; }
    .card-header { display: flex; align-items: center; justify-content: space-between; background: rgb(88 155 255); padding: 15px; border-radius: 8px; border: 1px solid #ddd; }
    .profile-details { display: flex; align-items: center; gap: 15px; }
    .profile-details img { border-radius: 20px; width: 100px; height: 100px; object-fit: cover; }
    .profile-text { font-size: 16px; font-weight: bold; }
    .btn-success { background: #28a745; color: white; padding: 8px 15px; border-radius: 5px; text-decoration: none; font-size: 14px; }
    .btn-success:hover { background: #218838; }
    .tab-style-2 .nav-item .nav-link.active { color: green !important; }
    .nav-link:focus, .nav-link:hover { color: green !important; }
    body { transform: scale(1); zoom: 100%; }

    #mark-current-address {
        transform: scale(1.2); /* Slightly larger for better visibility */
        cursor: pointer;
    }
</style>
<!-- Start::app-content -->
<div class="main-content app-content">
    <div class="container-fluid">
        <div class="col-xxl-12 col-xl-12">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="profile-details">
                        {% comment %} <img src="{{ user_data.image.url }}"> {% endcomment %}
                        <img src="{% static 'admin_template/assets/image/img1.jpg' %}">

                        <div class="profile-text">
                            {% comment %} {{user_data.first_name}}{{user_data.last_name}}<br> {% endcomment %}
                           test user1<br>
                           345678934567<br><br>


                            {% comment %} {{user_data.phone_number}}<br><br> {% endcomment %}
                            <div class="progress" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar" style="width: 100%;">100%</div>
                            </div>
                        </div>
                    </div>
                    <b>User Status: <span style="color:red">Inactive</span> &nbsp;&nbsp;&nbsp;&nbsp;User Type: <span style="color:red">Domestic Cleaner</span></b>
                    <a href="javascript:void(0);" class="btn btn-warning">
                    Activations & Settings
                    </a>
                    <a href="javascript:void(0);" 
                        onclick="window.open('<?= base_url('index.php/transaction/Profile_details/print_staff_profile/') ?>', '_blank', 'width=600,height=600')" 
                        class="btn btn-success">
                    Print
                    </a>
                </div>
                <div class="card-body">
                    <ul class="nav nav-tabs tab-style-2 nav-justified mb-3 d-sm-flex d-block" id="myTab1" role="tablist" style="font-size:11px">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="about-tab" data-bs-toggle="tab"
                                data-bs-target="#about-tab-pane" type="button" role="tab"
                                aria-controls="about-tab-pane" aria-selected="true"><i
                                class="ri-map-pin-user-line me-1 align-middle"></i>ABOUT THE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CANDIDATE</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link " id="reference-tab" data-bs-toggle="tab"
                                data-bs-target="#reference-tab-pane" type="button" role="tab"
                                aria-controls="reference-tab-pane" aria-selected="false"><i
                                class="ri-check-double-line me-1 align-middle"></i>REFERENCES</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="training-tab" data-bs-toggle="tab" 
                                data-bs-target="#training-tab-pane" type="button" role="tab"
                                aria-controls="contact-tab-pane" aria-selected="false"><i
                                class="ri-shopping-bag-3-line me-1 align-middle"></i>TRAINING & WORK HISTORY</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="background-tab" data-bs-toggle="tab"
                                data-bs-target="#background-tab-pane" type="button" role="tab" aria-selected="false"><i
                                class="ri-stack-fill me-1 align-middle"></i>BACKGROUND CHECKS</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="other-tab" data-bs-toggle="tab"
                                data-bs-target="#other-tab-pane" type="button" role="tab" aria-selected="false"><i
                                class="ri-information-2-line me-1 align-middle"></i>OTHER INFORMATION</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="medical-tab" data-bs-toggle="tab"
                                data-bs-target="#medical-tab-pane" type="button" role="tab" aria-selected="false"><i
                                class="ri-medicine-bottle-line me-1 align-middle"></i>MEDICAL HISTORY</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="declaration-tab" data-bs-toggle="tab"
                                data-bs-target="#declaration-tab-pane" type="button" role="tab" aria-selected="false"><i
                                class="ri-contract-line me-1 align-middle"></i>DECLARATION</button>
                        </li>
                    </ul>
                    <!-- Start Tab About -->
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active text-muted" id="about-tab-pane" role="tabpanel"
                            aria-labelledby="about-tab" tabindex="0">
                            <!-- Start:: Row -->
                            <div class="row">
                                <div class="col-xl-12">
                                    <div class="card custom-card">
                                        <div class="card-body">
                                            <div class="accordion accordion-secondary" id="accordionSecondaryExample">
                                                <!-- Personal Info Section -->
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="about_headingSecondaryOne">
                                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#about_collapseSecondaryOne" aria-expanded="true"
                                                            aria-controls="about_collapseSecondaryOne">
                                                        Personal Info
                                                        </button>
                                                    </h2>
                                                    <div id="about_collapseSecondaryOne" class="accordion-collapse collapse show"
                                                        aria-labelledby="about_headingSecondaryOne"
                                                        data-bs-parent="#accordionSecondaryExample">
                                                        <div class="accordion-body">
                                                            <div class="row gy-4">
                                                                <div class="col-xl-2">
                                                                    <label for="title" class="form-label">Title</label>
                                                                    <input type="text" class="form-control" id="title">
                                                                </div>
                                                                <div class="col-xl-3">
                                                                    <label for="first-name" class="form-label">First Name</label>
                                                                    <input type="text" class="form-control" id="first-name">
                                                                </div>
                                                                <div class="col-xl-3">
                                                                    <label for="last-name" class="form-label">Last Name</label>
                                                                    <input type="text" class="form-control" id="last-name">
                                                                </div>
                                                                <div class="col-xl-4">
                                                                    <label for="email" class="form-label">Email Address</label>
                                                                    <input type="email" class="form-control" id="email" placeholder="Enter email">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="country-code" class="form-label">Country Code</label>
                                                                    <input type="tel" class="form-control" id="country-code" placeholder="+1100">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="phone-number" class="form-label">Phone Number</label>
                                                                    <input type="tel" class="form-control" id="phone-number" placeholder="2031-1233">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="nationality" class="form-label">Nationality</label>
                                                                    <input type="text" class="form-control" id="nationality">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="dob" class="form-label">Date of Birth</label>
                                                                    <input type="date" class="form-control" id="dob">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="gender" class="form-label">Gender</label>
                                                                    <input type="text" class="form-control" id="gender">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="doj" class="form-label">Date of Joining</label>
                                                                    <input type="date" class="form-control" id="doj">
                                                                </div>
                                                                <div class="col-xl-3">
                                                                    <label class="form-label d-block">Job Applying For</label>
                                                                    <select class="form-control" name="job-apply" id="job-apply">
                                                                        <option value="">Select Job</option>
                                                                        <option value="Choice 1">Choice 1</option>
                                                                        <option value="Choice 2">Choice 2</option>
                                                                        <option value="Choice 3">Choice 3</option>
                                                                    </select>
                                                                </div>
                                                                <div class="col-xl-3">
                                                                    <label for="employee-id" class="form-label">Employee ID</label>
                                                                    <input type="text" class="form-control" id="employee-id">
                                                                </div>
                                                                <div class="col-xl-2">
                                                                    <label for="driving-licence" class="form-label">Valid Driving Licence?</label>
                                                                    <input type="text" class="form-control" id="driving-licence">
                                                                </div>
                                                                <div class="col-xl-4">
                                                                    <label for="referral" class="form-label">How did you hear about us?</label>
                                                                    <input type="text" class="form-control" id="referral">
                                                                </div>
                                                                <div class="col-xl-4">
                                                                    <label for="work-limit" class="form-label">Right to work - Limit</label>
                                                                    <select class="form-control" name="work-limit" id="work-limit" multiple>
                                                                        <option value="Choice 1" selected>Choice 1</option>
                                                                        <option value="Choice 2">Choice 2</option>
                                                                    </select>
                                                                </div>
                                                                <!-- Required Documents Section -->
                                                                <div class="col-xl-8">
                                                                    <div class="card custom-card">
                                                                        <div class="card-header">
                                                                            <div class="card-title">
                                                                                Required Documents
                                                                            </div>
                                                                            These are extra documents. Please click the button to upload.
                                                                        </div>
                                                                        <div class="card-body">
                                                                            <input type="file" class="multiple-filepond" name="filepond" multiple data-allow-reorder="true" data-max-file-size="3MB" data-max-files="6">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Address Deatils Section -->
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="about_headingSecondaryOne">
                                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#about_collapseSecondaryOne" aria-expanded="true"
                                                            aria-controls="about_collapseSecondaryOne">
                                                        Address Details
                                                        </button>
                                                    </h2>
                                                    <div id="about_collapseSecondaryOne" class="accordion-collapse collapse show"
                                                        aria-labelledby="about_headingSecondaryOne" data-bs-parent="#accordionSecondaryExample">
                                                        <div class="accordion-body">
                                                            <div class="row gy-3">
                                                                <!-- House Number -->
                                                                <div class="col-md-6 col-lg-4 col-xl-2">
                                                                    <label for="house-number" class="form-label">House Number</label>
                                                                    <input type="text" class="form-control" id="house-number" required>
                                                                </div>
                                                                <!-- Address 1 -->
                                                                <div class="col-md-6 col-lg-4 col-xl-3">
                                                                    <label for="address-1" class="form-label">Address 1</label>
                                                                    <input type="text" class="form-control" id="address-1">
                                                                </div>
                                                                <!-- Street Name -->
                                                                <div class="col-md-6 col-lg-4 col-xl-3">
                                                                    <label for="street-name" class="form-label">Street Name</label>
                                                                    <input type="text" class="form-control" id="street-name">
                                                                </div>
                                                                <!-- Town/City -->
                                                                <div class="col-md-6 col-lg-6 col-xl-4">
                                                                    <label for="town" class="form-label">Town/City</label>
                                                                    <input type="text" class="form-control" id="town" required>
                                                                </div>
                                                                <!-- Country 1 -->
                                                                <div class="col-md-6 col-lg-3 col-xl-2">
                                                                    <label for="country1" class="form-label">Country</label>
                                                                    <input type="text" class="form-control" id="country1">
                                                                </div>
                                                                <!-- Country 2 (Tel Input) -->
                                                                <div class="col-md-6 col-lg-3 col-xl-2">
                                                                    <label for="country2" class="form-label">Country</label>
                                                                    <input type="tel" class="form-control" id="country2">
                                                                </div>
                                                                <!-- Address Duration Section -->
                                                                <div class="col-xl-12 mt-4">
                                                                    {% comment %} <h5 class="fw-bold text-primary border-bottom pb-2 d-inline-block" style="color: rgb(79, 86, 98) !important;">
                                                                        <i class="bi bi-house-door-fill me-2" style="color: rgb(79, 86, 98);"></i> 
                                                                        How long has the candidate lived at this address?
                                                                    </h5> {% endcomment %}
                                                                    <p style="font-weight:600;font-size: 1rem; color:black;"> 
                                                                        <i class="bi bi-house-door-fill me-2" style="color:black;"></i> 
                                                                        How long has the candidate lived at this address?</p>
                                                                </div>
                                                                <div class="col-md-6 col-lg-3 col-xl-2">
                                                                    <label for="fromdate" class="form-label">From Date</label>
                                                                    <input type="date" class="form-control" id="fromdate">
                                                                </div>
                                                                <div class="col-md-6 col-lg-3 col-xl-2">
                                                                    <label for="todate" class="form-label">To Date</label>
                                                                    <input type="date" class="form-control" id="todate">
                                                                </div>
                                                                <!-- Buttons Section -->
                                                                <div class="col-12 mt-4">
                                                                    <button class="btn btn-primary me-2">Update</button>
                                                                    <button class="btn btn-danger me-2">Remove</button>
                                                                    <button class="btn btn-warning text-dark">Not Audited : Click to mark as audited</button>
                                                                </div>
                                                                <!-- New Row for the Toggle Switch -->
                                                                <div class="row mt-3">
                                                                    <div class="col-md-6 col-lg-4 col-xl-3 d-flex align-items-center">
                                                                        <div class="form-check form-switch">
                                                                            <input class="form-check-input" type="checkbox" id="mark-current-address">
                                                                            <label class="form-check-label ms-2" for="mark-current-address" style="color:black !important;">Mark As Current Address</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- Required Documents Section -->
                                                                <div class="col-12">
                                                                    <div class="card custom-card mt-4">
                                                                        <div class="card-header">
                                                                            <h6 class="card-title mb-1">Proof of Address</h6>
                                                                            <p class="small text-muted">These are extra documents. Click the button to upload.</p>
                                                                        </div>
                                                                        <div class="card-body">
                                                                            <input type="file" class="multiple-filepond" name="filepond" multiple
                                                                                data-allow-reorder="true" data-max-file-size="3MB" data-max-files="6">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- End of row -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Photo for ID Badge -->
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="about_headingSecondaryThree">
                                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#about_collapseSecondaryThree" aria-expanded="true"
                                                            aria-controls="about_collapseSecondaryThree">
                                                        Photo for ID Badge
                                                        </button>
                                                    </h2>
                                                    <div id="about_collapseSecondaryThree" class="accordion-collapse collapse show"
                                                        aria-labelledby="about_headingSecondaryThree"
                                                        data-bs-parent="#accordionSecondaryExample">
                                                        <div class="accordion-body">
                                                            <div class="row">
                                                                <!-- File Upload Section (Left Column) -->
                                                                <div class="col-md-6">
                                                                    <div class="card custom-card">
                                                                        <div class="card-header">
                                                                            <div class="card-title">ID Badge</div>
                                                                            Candidate's ID badge photo. Face should be visible, against a light background.
                                                                        </div>
                                                                        <div class="card-body">
                                                                            <input type="file" id="fileInput" class="multiple-filepond" name="filepond" accept="image/*" multiple data-allow-reorder="true" data-max-file-size="3MB" data-max-files="6">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- Image Preview Section (Right Column) -->
                                                                <div class="col-md-6 d-flex align-items-center justify-content-center">
                                                                    <div class="text-center">
                                                                        <img id="imagePreview" src="{% static 'admin_template/assets/image/pc1.jpg' %}" alt="ID Badge Photo"
                                                                            class="img-thumbnail" style="width: 150px; height: 150px; object-fit: cover;">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- ID Upload Section -->
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="about_headingSecondaryFour">
                                                        <button class="accordion-button collapsed" type="button"
                                                            data-bs-toggle="collapse" data-bs-target="#about_collapseSecondaryFour"
                                                            aria-expanded="false" aria-controls="about_collapseSecondaryFour">
                                                        ID Upload
                                                        </button>
                                                    </h2>
                                                    <div id="about_collapseSecondaryFour" class="accordion-collapse collapse show"
                                                        aria-labelledby="about_headingSecondaryFour"
                                                        data-bs-parent="#accordionSecondaryExample">
                                                        <div class="accordion-body">
                                                            <div class="col-xl-8">
                                                                <div class="card custom-card">
                                                                    <div class="card-header">
                                                                        <div class="card-title">ID Proof Upload</div>
                                                                        Upload ID proof (Passport/Driving License).
                                                                    </div>
                                                                    <div class="card-body">
                                                                        <input type="file" class="multiple-filepond" name="filepond" multiple data-allow-reorder="true" data-max-file-size="3MB" data-max-files="6">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- End accordion -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- End:: Row -->
                        </div>
                        <!-- Start tab reference -->
                       {% include "carecenter/refence.html" %}
                        <!-- End tab reference -->

                        <!-- Start Tab: Training -->
                        {% include "carecenter/training.html" %}
                        <!-- End Tab: Training -->

                        <!-- Start Tab: Background -->
                        {% include "carecenter/background.html" %}
                        <!-- End Tab: Background -->

                        <!-- Start Tab: Other -->
                        {% include "carecenter/other_info.html" %}
                        <!-- End Tab: Other -->

                        <!-- Start Tab: Medical -->
                        {% include "carecenter/medical_his.html" %}
                        <!-- End Tab: Medical -->

                        <!-- Start Tab: Declaration -->
                        {% include "carecenter/declaration.html" %}
                        <!-- End Tab: Declaration -->
                    </div>
                    <!-- End Tab Content -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End::app-content -->
<!-- END OF PAGE HEAD      -->


<!-- Custom Scripts -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll("[data-bs-toggle='modal']").forEach(button => {
            button.addEventListener("click", function () {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        });
    });

    document.querySelectorAll('.toggle-input').forEach((checkbox) => {
        checkbox.addEventListener('change', function () {
            let detailsInput = document.getElementById(this.id + "_details");
            detailsInput.classList.toggle("d-none", !this.checked);
            if (!this.checked) detailsInput.value = "";
        });
    });

    function toggleDivs(showId) {
        document.querySelectorAll('.content').forEach(div => div.style.display = 'none');
        document.getElementById(showId).style.display = 'block';
    }

    function toggleDateInput(checkbox) {
        let dateInputDiv = document.getElementById(checkbox.id + "_date");
        dateInputDiv.classList.toggle("d-none", !checkbox.checked);
    }

    document.getElementById('fileInput').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('imagePreview').src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
    });
</script>

{% endblock %}